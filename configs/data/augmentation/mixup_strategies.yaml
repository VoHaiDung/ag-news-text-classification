# MixUp Augmentation Strategies Configuration
# ============================================
#
# MixUp and variants for text augmentation following:
# - Zhang et al. (2018): "mixup: Beyond Empirical Risk Minimization"
# - Guo et al. (2019): "Augmenting Data with Mixup for Sentence Classification"
# - Chen et al. (2020): "MixText: Linguistically-Informed Interpolation of Hidden States"
#
# Author: Võ Hải Dũng
# License: MIT

name: mixup_strategies
type: augmentation
description: "MixUp-based augmentation strategies for text"

# Basic MixUp
mixup:
  enabled: true
  alpha: 0.2  # Beta distribution parameter
  
  # Interpolation level
  interpolation_level: "embedding"  # embedding, hidden, logit
  
  # Probability
  mixup_prob: 0.5
  
  # Constraints
  same_class_only: false
  cross_class_weight: 0.3

# MixText
mixtext:
  enabled: true
  
  # TMix: Token-level mixup
  tmix:
    enabled: true
    mix_ratio: 0.5
    max_tokens_to_mix: 100
    
  # Hidden state interpolation
  hidden_mix_layer: -1  # -1 for last layer
  mix_alpha: 0.2
  
  # Low-entropy selection
  use_low_entropy: true
  entropy_threshold: 0.3

# Manifold MixUp
manifold_mixup:
  enabled: false
  
  # Layer selection
  mix_layers: [3, 6, 9]  # Which layers to mix
  random_layer: true
  
  # Mixing function
  mix_function: "linear"  # linear, sigmoid, geometric

# CutMix for text
cutmix:
  enabled: true
  
  # Cut ratio
  cut_ratio: 0.2
  
  # Selection strategy
  selection: "continuous"  # continuous, random, importance
  
  # Position
  position: "random"  # random, start, end, middle

# SentMix: Sentence-level mixing
sentmix:
  enabled: true
  
  # Mix sentences from different samples
  mix_ratio: 0.5
  
  # Sentence selection
  selection_strategy: "random"  # random, importance, similarity
  
  # Coherence check
  check_coherence: true
  coherence_threshold: 0.6

# Augmentation rules
rules:
  # When to apply
  apply_to_training: true
  apply_to_validation: false
  
  # Class-specific rules
  class_specific:
    minority_boost: 2.0  # More augmentation for minority classes
    majority_reduce: 0.5
  
  # Batch composition
  augmented_ratio_per_batch: 0.3

# Quality control
quality:
  # Semantic preservation
  check_semantic: true
  min_semantic_similarity: 0.7
  
  # Label preservation
  check_predictions: true
  confidence_threshold: 0.8
  
  # Filtering
  filter_invalid: true

# Experimental settings
experimental:
  # Curriculum mixup
  curriculum:
    enabled: false
    start_epoch: 5
    increase_rate: 0.1
    
  # Adaptive mixup
  adaptive:
    enabled: false
    adjust_by_loss: true
    adjust_by_accuracy: false

# Expected benefits
benefits:
  regularization: "Strong"
  overfitting_reduction: "30-40%"
  calibration_improvement: "Yes"
  adversarial_robustness: "+5-10%"

references:
  - "https://arxiv.org/abs/1710.09412"
  - "https://arxiv.org/abs/2004.12239"
