# Domain-Specific Preprocessing Configuration
# ============================================
# 
# Preprocessing tailored for news domain following:
# - Gururangan et al. (2020): "Don't Stop Pretraining"
# - Lee et al. (2020): "BioBERT: Domain-specific Language Model Pretraining"
#
# Author: Võ Hải Dũng
# License: MIT

name: domain_specific_preprocessing
type: preprocessing
description: "News domain-specific text preprocessing"

# Domain characteristics
domain:
  name: "news"
  subdomains: ["world", "sports", "business", "technology"]
  
# News-specific cleaning
text_cleaning:
  # Preserve news elements
  preserve_datelines: true
  preserve_bylines: true
  preserve_quotes: true
  
  # Standard cleaning
  lowercase: false  # Preserve proper nouns
  remove_urls: true
  remove_emails: true
  normalize_whitespace: true
  
  # News-specific patterns
  remove_patterns:
    - pattern: "\\KATEX_INLINE_OPENReuters\\KATEX_INLINE_CLOSE"
      replacement: ""
    - pattern: "\\KATEX_INLINE_OPENAP\\KATEX_INLINE_CLOSE"
      replacement: ""
    - pattern: "BREAKING:"
      replacement: ""
  
  # Entity preservation
  preserve_entities:
    persons: true
    organizations: true
    locations: true
    dates: true
    money: true

# Tokenization for news
tokenization:
  # Use cased model for proper nouns
  tokenizer: "bert-base-cased"
  
  # Longer sequences for news articles
  max_length: 512
  
  # News-specific tokens
  special_tokens:
    - "[HEADLINE]"
    - "[DATELINE]"
    - "[QUOTE]"
    - "[SOURCE]"

# Feature extraction
features:
  # News metadata
  extract_metadata:
    publication_date: true
    author: true
    section: true
    
  # Linguistic features
  linguistic:
    named_entities: true
    pos_tags: true
    dependency_parse: false
    
  # News-specific features
  news_features:
    quote_ratio: true
    fact_density: true
    source_count: true
    temporal_expressions: true

# Quality metrics for news
quality_metrics:
  min_sentences: 3
  min_unique_entities: 2
  max_quote_ratio: 0.5
  required_elements:
    - "who"
    - "what"
    - "when"
    - "where"

# Expected improvements
expected_impact:
  domain_adaptation: "+2% accuracy on news"
  entity_preservation: "95% entity retention"
  processing_speed: "1000 articles/second"
